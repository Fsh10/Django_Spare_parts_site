{% extends 'details/base.html' %}
{% load static %}

{% block content %}
<!DOCTYPE html>
<html>
  <head>
    <title>My App</title>
    <link rel="stylesheet" href="{% static 'details/css/catalog.css' %}">
    <link rel="shortcut icon" href="{% static 'details/images/spare_parts/charge_cable/6/front.jpg' %}" type="image/png">
  </head>
  <body>
    <div class="container-catalog">
        <div id="filters-container">
            <h2>Фильтры</h2>
            <h3>Модель:</h3>
            <ul>
                <li>
                    <input type="checkbox" id="model-checkbox-iphone6" onchange="applyFilters()">
                    <label for="model-checkbox-iphone6">iPhone 6</label>
                </li>
                <li>
                    <input type="checkbox" id="model-checkbox-iphone7" onchange="applyFilters()">
                    <label for="model-checkbox-iphone7">iPhone 7</label>
                </li>
                <li>
                    <input type="checkbox" id="model-checkbox-iphone8" onchange="applyFilters()">
                    <label for="model-checkbox-iphone8">iPhone 8</label>
                </li>
                <!-- Add more model checkboxes here -->
            </ul>

            <h3>Тип запчасти:</h3>
            <ul>
                {% for i, item in enumerate(sp_list) %}
                <li>
                    <input type="checkbox" id="{{i}}" onchange="applyFilters()">
                    <label for="{{i}}">{{item}}</label>
                </li>
                {% endfor %}
            </ul>
        </div>

        <div id="catalog-container">
            <h2>Доступные запчасти</h2>
            <div id="catalog">
                <!-- This is where the spare parts will be displayed -->
            </div>
        </div>
    </div>

    <script>
        // Add JavaScript code here to handle checkbox filtering

        function applyFilters() {
            // Get selected checkbox values
            var modelCheckboxes = document.querySelectorAll('input[id^="model-checkbox-"]');
            var partTypeCheckboxes = document.querySelectorAll('input[id^="part-type-checkbox-"]');

            // Get selected model filters
            var modelFilters = [];
            for (var i = 0; i < modelCheckboxes.length; i++) {
                if (modelCheckboxes[i].checked) {
                    modelFilters.push(modelCheckboxes[i].value);
                }
            }

            // Get selected part type filters
            var partTypeFilters = [];
            for (var i = 0; i < partTypeCheckboxes.length; i++) {
                if (partTypeCheckboxes[i].checked) {
                    partTypeFilters.push(partTypeCheckboxes[i].value);
                }
            }

            // Apply filters to display the matching spare parts
            // You can use JavaScript to filter and display the parts based on the selected checkbox values

            // Example code to display a message based on the selected filters
            var catalog = document.getElementById("catalog");
            catalog.innerHTML = "Showing spare parts for the following filters:<br>";

            if (modelFilters.length > 0) {
                catalog.innerHTML += "Model: " + modelFilters.join(", ") + "<br>";
            }

            if (partTypeFilters.length > 0) {
                catalog.innerHTML += "Part Type: " + partTypeFilters.join(", ") + "<br>";
            }
        }
    </script>
{% endblock %}
